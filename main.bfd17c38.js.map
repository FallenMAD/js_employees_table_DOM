{"version":3,"sources":["scripts/main.js"],"names":["selected","tbody","document","querySelector","thead","body","accept","addEventListener","e","item","target","closest","cellIndex","copyOfData","children","sort","a","b","cellA","cells","innerHTML","cellB","includes","goodNumbers","localeCompare","append","classList","remove","add","insertAdjacentHTML","form","submitFormData","preventDefault","data","FormData","employeeName","get","employeePosition","employeeAge","employeeSalary","newEmployeeSalary","String","length","trim","pushNotification","reset","type","title","description","setTimeout","isDisabled","numb","replace","textItem","textContent","targetIndex","input","select","createElement","focus","value","el","key","blur"],"mappings":"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","file":"main.bfd17c38.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nconst body = document.querySelector('body');\nlet accept = true;\nlet selected;\n\nthead.addEventListener('click', (e) => {\n  const item = e.target.closest('th');\n\n  if (!item) {\n    return;\n  }\n\n  const cellIndex = item.cellIndex;\n\n  const copyOfData = [...tbody.children];\n\n  copyOfData.sort((a, b) => {\n    const cellA = accept\n      ? a.cells[cellIndex].innerHTML\n      : b.cells[cellIndex].innerHTML;\n\n    const cellB = accept\n      ? b.cells[cellIndex].innerHTML\n      : a.cells[cellIndex].innerHTML;\n\n    if (cellA.includes('$') || typeof cellA === 'number') {\n      return goodNumbers(cellB) - goodNumbers(cellA);\n    } else {\n      return cellA.localeCompare(cellB);\n    }\n  });\n\n  tbody.append(...copyOfData);\n  accept = !accept;\n});\n\ntbody.addEventListener('click', (e) => {\n  const item = e.target.closest('tr');\n\n  if (selected) {\n    selected.classList.remove('active');\n  }\n\n  item.classList.add('active');\n  selected = item;\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form\n    class=\"new-employee-form\"\n    method=\"GET\"\n    action=\"/\"\n  >\n    <label>Name:\n      <input\n        data-qa=\"name\"\n        name=\"name\"\n        type=\"text\"\n      >\n    </label>\n\n    <label>Position:\n      <input\n        data-qa=\"position\"\n        name=\"position\"\n        type=\"text\"\n      >\n    </label>\n\n    <label>Office\n      <select\n        data-qa=\"office\"\n        name=\"office\"\n        type=\"text\"\n      >\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input\n        data-qa=\"age\"\n        name=\"age\"\n        type=\"number\"\n        min=\"0\"\n      >\n    </label>\n\n    <label>Salary:\n      <input\n        data-qa=\"salary\"\n        name=\"salary\"\n        type=\"number\"\n        min=\"0\"\n      >\n    </label>\n\n    <button type=\"submit\">Save to table</button>\n  </form>\n`);\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', submitFormData);\n\nfunction submitFormData(e) {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const employeeName = data.get('name');\n  const employeePosition = data.get('position');\n  const employeeAge = data.get('age');\n  const employeeSalary = data.get('salary');\n  const newEmployeeSalary = '$' + String(employeeSalary);\n\n  if (employeeName.length < 4 || employeeName.trim() === '') {\n    pushNotification('warning', 'Warning',\n      'Warning... The name must have more than 4 characters ');\n  } else if (employeePosition.length < 1 || employeePosition.trim() === '') {\n    pushNotification('warning', 'Warning',\n      'Warning... The position must have more than 1 characters ');\n  } else if (employeeAge < 18 || employeeAge > 90) {\n    pushNotification('error', 'Error', 'Error... age must be 18+');\n  } else {\n    tbody.insertAdjacentHTML('beforeend', `\n      <tr>\n        <td>${employeeName}</td>\n        <td>${employeePosition}</td>\n        <td>${data.get('office')}</td>\n        <td>${employeeAge}</td>\n        <td>${newEmployeeSalary}</td>\n      </tr>\n      `);\n\n    pushNotification('success', 'Success',\n      'Success... You have been added to the table');\n    form.reset();\n  };\n}\n\nconst pushNotification = (type, title, description) => {\n  body.insertAdjacentHTML('beforeend', `\n    <div\n      class=\"notification ${type}\"\n      data-qa=\"notification\"\n    >\n      <h1 class=\"title\">\n        ${title}\n      </h1>\n      <p>\n        ${description}\n      </p>\n    </div>\n  `);\n\n  setTimeout(() => document.querySelector('.notification').remove(), 3000);\n};\n\nconst isDisabled = true;\n\ntbody.addEventListener('dblclick', (e) => {\n  const item = e.target.closest('td');\n  const textItem = item.textContent;\n  const targetIndex = item.cellIndex;\n\n  if (isDisabled) {\n    item.classList.add('.cell-input');\n    item.innerHTML = '';\n  } else {\n    item.classList.remove('.cell-input');\n  }\n\n  item.insertAdjacentHTML('afterbegin', `\n    <input class=\"cell-input\" type=\"text\">\n  `);\n\n  let input = document.querySelector('.cell-input');\n\n  if (targetIndex === 2) {\n    const select = document.createElement('select');\n\n    select.insertAdjacentHTML('afterbegin', `\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    `);\n\n    input = select;\n  }\n\n  if (targetIndex === 3 || targetIndex === 4) {\n    input.type = 'number';\n  }\n\n  item.append(input);\n\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    if (targetIndex === 3 && input.value < 18) {\n      pushNotification('error', 'Error', 'Error... age must be 18+');\n      item.textContent = textItem;\n\n      return;\n    } else {\n      item.textContent = textItem;\n    }\n\n    if (targetIndex === 3 && input.value > 90) {\n      pushNotification('error', 'Error', 'Error... age must be less than 90');\n      item.textContent = textItem;\n\n      return;\n    }\n\n    if (targetIndex === 4 && input.value) {\n      item.textContent = '$' + String(input.value);\n\n      return;\n    }\n\n    item.textContent = input.value || textItem;\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (el) => {\n    if (el.key !== 'Enter') {\n      return;\n    }\n\n    input.blur();\n  });\n});\n\nfunction goodNumbers(numb) {\n  return +numb.replace(/\\D/g, '');\n}\n"]}